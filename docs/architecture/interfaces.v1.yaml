{
  "schema_version": "interfaces/v1",
  "description": "Explicit REE interface graph for trace-based architecture audits.",
  "trace_roots": [
    "SENSORY.world_tag",
    "SENSORY.homeostasis_tag",
    "SENSORY.harm_tag",
    "SENSORY.self_sensory_tag"
  ],
  "terminal_nodes": [
    "ACTION.actuator"
  ],
  "nodes": [
    {
      "id": "SENSORY.world_tag",
      "subsystem": "Sensory Streams",
      "doc": "docs/architecture/sensory_stream_tags.md",
      "description": "Exteroceptive stream tag for non-self input.",
      "ports": {
        "inputs": [],
        "outputs": [
          "world.sampled"
        ]
      }
    },
    {
      "id": "SENSORY.homeostasis_tag",
      "subsystem": "Sensory Streams",
      "doc": "docs/architecture/sensory_stream_tags.md",
      "description": "Interoceptive viability stream.",
      "ports": {
        "inputs": [],
        "outputs": [
          "homeostasis.sampled"
        ]
      }
    },
    {
      "id": "SENSORY.harm_tag",
      "subsystem": "Sensory Streams",
      "doc": "docs/architecture/sensory_stream_tags.md",
      "description": "Fast threat and nociceptive stream.",
      "ports": {
        "inputs": [],
        "outputs": [
          "harm.sampled"
        ]
      }
    },
    {
      "id": "SENSORY.self_sensory_tag",
      "subsystem": "Sensory Streams",
      "doc": "docs/architecture/sensory_stream_tags.md",
      "description": "Reafferent self-sensory stream from action consequences.",
      "ports": {
        "inputs": [
          "self_sensory.reafference"
        ],
        "outputs": [
          "self_sensory.sampled"
        ]
      }
    },
    {
      "id": "E1.persistent_predictive_substrate",
      "subsystem": "E1",
      "doc": "docs/architecture/e1.md",
      "description": "Deep generative substrate carrying long-horizon priors.",
      "ports": {
        "inputs": [
          "model.update"
        ],
        "outputs": [
          "priors.to_e2"
        ]
      }
    },
    {
      "id": "E2.fast_forward_predictor",
      "subsystem": "E2",
      "doc": "docs/architecture/e2.md",
      "description": "Fast prediction and local comparison engine.",
      "ports": {
        "inputs": [
          "world.in",
          "homeostasis.in",
          "harm.in",
          "self_sensory.in",
          "priors.in",
          "precision.gain"
        ],
        "outputs": [
          "prediction_error",
          "rollout_seed"
        ]
      }
    },
    {
      "id": "CONTROL.precision_router",
      "subsystem": "Control Plane",
      "doc": "docs/architecture/control_plane.md",
      "description": "Routes precision and signed control signals.",
      "ports": {
        "inputs": [
          "pe.in",
          "residue.modulation"
        ],
        "outputs": [
          "precision.to_e2",
          "gate.to_e3",
          "perceptual_sampling_bias"
        ]
      }
    },
    {
      "id": "HIPPO.rollout_viability_mapper",
      "subsystem": "Hippocampal Systems",
      "doc": "docs/architecture/hippocampal_systems.md",
      "description": "Constructs viability-filtered trajectory rollouts.",
      "ports": {
        "inputs": [
          "seed.in",
          "residue.bias",
          "map.update"
        ],
        "outputs": [
          "trajectory_candidates"
        ]
      }
    },
    {
      "id": "RESIDUE.ethical_curvature_field",
      "subsystem": "Residue Geometry",
      "doc": "docs/architecture/residue_geometry.md",
      "description": "Persistent ethical curvature over latent space.",
      "ports": {
        "inputs": [
          "commit_outcomes"
        ],
        "outputs": [
          "bias.to_hippo",
          "bias.to_e3",
          "bias.to_control"
        ]
      }
    },
    {
      "id": "E3.trajectory_commitment_engine",
      "subsystem": "E3",
      "doc": "docs/architecture/e3.md",
      "description": "Admissibility, selection, and action commitment.",
      "ports": {
        "inputs": [
          "trajectory_candidates.in",
          "gate.in",
          "residue_gate.in"
        ],
        "outputs": [
          "action.commit",
          "decision.ledger"
        ]
      }
    },
    {
      "id": "ACTION.actuator",
      "subsystem": "Trajectory Selection",
      "doc": "docs/architecture/trajectory_selection.md",
      "description": "Committed intervention channel.",
      "ports": {
        "inputs": [
          "action.commit"
        ],
        "outputs": [
          "efference_copy"
        ]
      }
    },
    {
      "id": "EXPLANATION.justification_gate",
      "subsystem": "Agency & Responsibility",
      "doc": "docs/architecture/agency_responsibility_flow.md",
      "description": "Produces policy-grounded justifications after commitment.",
      "ports": {
        "inputs": [
          "decision.ledger"
        ],
        "outputs": [
          "justification.signal"
        ]
      }
    },
    {
      "id": "LEARNING.post_commit_updater",
      "subsystem": "Agency & Responsibility",
      "doc": "docs/architecture/agency_responsibility_flow.md",
      "description": "Post-commit bookkeeping updates memory and deep model state.",
      "ports": {
        "inputs": [
          "commit.record",
          "justification.signal"
        ],
        "outputs": [
          "model.update",
          "map.update"
        ]
      }
    },
    {
      "id": "SOCIAL.other_model",
      "subsystem": "Social & Empathy",
      "doc": "docs/architecture/social.md",
      "description": "Derived other-agent modeling extension.",
      "ports": {
        "inputs": [
          "world.social_features"
        ],
        "outputs": [
          "other_model.inferences"
        ]
      }
    }
  ],
  "edges": [
    {
      "id": "IFACE-EDGE-001",
      "from": {
        "node": "SENSORY.world_tag",
        "port": "world.sampled"
      },
      "to": {
        "node": "E2.fast_forward_predictor",
        "port": "world.in"
      },
      "signal": "world_stream_latent",
      "operation": "sample",
      "stage": "precommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-017",
        "ARC-002"
      ]
    },
    {
      "id": "IFACE-EDGE-002",
      "from": {
        "node": "SENSORY.homeostasis_tag",
        "port": "homeostasis.sampled"
      },
      "to": {
        "node": "E2.fast_forward_predictor",
        "port": "homeostasis.in"
      },
      "signal": "homeostasis_stream_latent",
      "operation": "sample",
      "stage": "precommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-017",
        "ARC-002"
      ]
    },
    {
      "id": "IFACE-EDGE-003",
      "from": {
        "node": "SENSORY.harm_tag",
        "port": "harm.sampled"
      },
      "to": {
        "node": "E2.fast_forward_predictor",
        "port": "harm.in"
      },
      "signal": "harm_stream_latent",
      "operation": "sample",
      "stage": "precommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-017",
        "ARC-002"
      ]
    },
    {
      "id": "IFACE-EDGE-004",
      "from": {
        "node": "SENSORY.self_sensory_tag",
        "port": "self_sensory.sampled"
      },
      "to": {
        "node": "E2.fast_forward_predictor",
        "port": "self_sensory.in"
      },
      "signal": "self_sensory_stream_latent",
      "operation": "sample",
      "stage": "precommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-017",
        "ARC-002",
        "ARC-015"
      ]
    },
    {
      "id": "IFACE-EDGE-005",
      "from": {
        "node": "E1.persistent_predictive_substrate",
        "port": "priors.to_e2"
      },
      "to": {
        "node": "E2.fast_forward_predictor",
        "port": "priors.in"
      },
      "signal": "deep_prior_bundle",
      "operation": "transform",
      "stage": "precommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-001",
        "ARC-002"
      ]
    },
    {
      "id": "IFACE-EDGE-006",
      "from": {
        "node": "E2.fast_forward_predictor",
        "port": "prediction_error"
      },
      "to": {
        "node": "CONTROL.precision_router",
        "port": "pe.in"
      },
      "signal": "signed_prediction_error",
      "operation": "transform",
      "stage": "precommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-002",
        "ARC-005",
        "MECH-054"
      ]
    },
    {
      "id": "IFACE-EDGE-007",
      "from": {
        "node": "CONTROL.precision_router",
        "port": "precision.to_e2"
      },
      "to": {
        "node": "E2.fast_forward_predictor",
        "port": "precision.gain"
      },
      "signal": "precision_gain_signal",
      "operation": "gate",
      "stage": "precommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-005",
        "MECH-054"
      ]
    },
    {
      "id": "IFACE-EDGE-008",
      "from": {
        "node": "E2.fast_forward_predictor",
        "port": "rollout_seed"
      },
      "to": {
        "node": "HIPPO.rollout_viability_mapper",
        "port": "seed.in"
      },
      "signal": "trajectory_seed_bundle",
      "operation": "transform",
      "stage": "precommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-002",
        "ARC-018"
      ]
    },
    {
      "id": "IFACE-EDGE-009",
      "from": {
        "node": "RESIDUE.ethical_curvature_field",
        "port": "bias.to_hippo"
      },
      "to": {
        "node": "HIPPO.rollout_viability_mapper",
        "port": "residue.bias"
      },
      "signal": "residue_curvature_bias",
      "operation": "gate",
      "stage": "precommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-013",
        "ARC-018",
        "MECH-056"
      ]
    },
    {
      "id": "IFACE-EDGE-010",
      "from": {
        "node": "HIPPO.rollout_viability_mapper",
        "port": "trajectory_candidates"
      },
      "to": {
        "node": "E3.trajectory_commitment_engine",
        "port": "trajectory_candidates.in"
      },
      "signal": "viable_trajectory_set",
      "operation": "sample",
      "stage": "precommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-018",
        "ARC-003"
      ]
    },
    {
      "id": "IFACE-EDGE-011",
      "from": {
        "node": "RESIDUE.ethical_curvature_field",
        "port": "bias.to_e3"
      },
      "to": {
        "node": "E3.trajectory_commitment_engine",
        "port": "residue_gate.in"
      },
      "signal": "trajectory_first_residue_gate",
      "operation": "gate",
      "stage": "precommit",
      "status": "defined",
      "owner_claim_ids": [
        "MECH-056",
        "ARC-003"
      ]
    },
    {
      "id": "IFACE-EDGE-012",
      "from": {
        "node": "CONTROL.precision_router",
        "port": "gate.to_e3"
      },
      "to": {
        "node": "E3.trajectory_commitment_engine",
        "port": "gate.in"
      },
      "signal": "commitment_gate_signal",
      "operation": "gate",
      "stage": "precommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-005",
        "ARC-003",
        "MECH-053"
      ]
    },
    {
      "id": "IFACE-EDGE-013",
      "from": {
        "node": "E3.trajectory_commitment_engine",
        "port": "action.commit"
      },
      "to": {
        "node": "ACTION.actuator",
        "port": "action.commit"
      },
      "signal": "committed_action_token",
      "operation": "commit",
      "stage": "precommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-003",
        "ARC-015"
      ]
    },
    {
      "id": "IFACE-EDGE-014",
      "from": {
        "node": "ACTION.actuator",
        "port": "efference_copy"
      },
      "to": {
        "node": "SENSORY.self_sensory_tag",
        "port": "self_sensory.reafference"
      },
      "signal": "reafference_feedback",
      "operation": "writeback",
      "stage": "postcommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-017",
        "ARC-015"
      ]
    },
    {
      "id": "IFACE-EDGE-015",
      "from": {
        "node": "E3.trajectory_commitment_engine",
        "port": "decision.ledger"
      },
      "to": {
        "node": "EXPLANATION.justification_gate",
        "port": "decision.ledger"
      },
      "signal": "decision_ledger_record",
      "operation": "writeback",
      "stage": "postcommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-015"
      ]
    },
    {
      "id": "IFACE-EDGE-016",
      "from": {
        "node": "EXPLANATION.justification_gate",
        "port": "justification.signal"
      },
      "to": {
        "node": "LEARNING.post_commit_updater",
        "port": "justification.signal"
      },
      "signal": "justification_alignment_signal",
      "operation": "transform",
      "stage": "postcommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-015",
        "MECH-053"
      ]
    },
    {
      "id": "IFACE-EDGE-017",
      "from": {
        "node": "ACTION.actuator",
        "port": "efference_copy"
      },
      "to": {
        "node": "LEARNING.post_commit_updater",
        "port": "commit.record"
      },
      "signal": "commit_outcome_record",
      "operation": "writeback",
      "stage": "postcommit",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-015",
        "ARC-003"
      ]
    },
    {
      "id": "IFACE-EDGE-018",
      "from": {
        "node": "LEARNING.post_commit_updater",
        "port": "model.update"
      },
      "to": {
        "node": "E1.persistent_predictive_substrate",
        "port": "model.update"
      },
      "signal": "deep_model_update",
      "operation": "writeback",
      "stage": "background",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-001",
        "ARC-015"
      ]
    },
    {
      "id": "IFACE-EDGE-019",
      "from": {
        "node": "LEARNING.post_commit_updater",
        "port": "map.update"
      },
      "to": {
        "node": "HIPPO.rollout_viability_mapper",
        "port": "map.update"
      },
      "signal": "trajectory_map_update",
      "operation": "writeback",
      "stage": "background",
      "status": "defined",
      "owner_claim_ids": [
        "ARC-018",
        "ARC-015"
      ]
    },
    {
      "id": "IFACE-EDGE-020",
      "from": {
        "node": "RESIDUE.ethical_curvature_field",
        "port": "bias.to_control"
      },
      "to": {
        "node": "CONTROL.precision_router",
        "port": "residue.modulation"
      },
      "signal": "residue_control_modulation",
      "operation": "gate",
      "stage": "precommit",
      "status": "ambiguous",
      "owner_claim_ids": [
        "MECH-056",
        "Q-011"
      ],
      "ambiguity": {
        "unknown_fields": [
          "signed_pe_precision_mix_rule",
          "noradrenaline_imminence_interaction",
          "stage_separation_constraints"
        ],
        "hypotheses": [
          "Residue modulates precision gain only within trajectory_commit channel.",
          "Residue can modulate perceptual sampling only after trajectory channel saturation."
        ],
        "linked_open_questions": [
          "Q-011"
        ],
        "resolution_needed": "Adjudication experiment separating trajectory-first and perceptual-spillover pathways under fixed environment tiers."
      }
    },
    {
      "id": "IFACE-EDGE-021",
      "from": {
        "node": "CONTROL.precision_router",
        "port": "perceptual_sampling_bias"
      },
      "to": {
        "node": "SENSORY.world_tag",
        "port": "world.sampled"
      },
      "signal": "representational_sampling_bias",
      "operation": "gate",
      "stage": "precommit",
      "status": "ambiguous",
      "owner_claim_ids": [
        "MECH-056"
      ],
      "ambiguity": {
        "unknown_fields": [
          "bias_amplitude_bounds",
          "channel_escalation_trigger"
        ],
        "hypotheses": [
          "Perceptual sampling bias is secondary and bounded by trajectory-channel failure.",
          "Perceptual sampling bias is always-on but low-gain."
        ],
        "linked_open_questions": [
          "Q-011"
        ],
        "resolution_needed": "Channelized perturbation experiments with independent sensory and trajectory precision logging."
      }
    },
    {
      "id": "IFACE-EDGE-022",
      "from": {
        "node": "SENSORY.world_tag",
        "port": "world.sampled"
      },
      "to": {
        "node": "SOCIAL.other_model",
        "port": "world.social_features"
      },
      "signal": "social_feature_projection",
      "operation": "transform",
      "stage": "precommit",
      "status": "candidate",
      "owner_claim_ids": [],
      "ambiguity": {
        "unknown_fields": [
          "agency_detection_schema",
          "other_harm_projection_gate"
        ],
        "hypotheses": [
          "Social projection is derived post-commit using replay traces.",
          "Social projection is online and continuous under high other-salience."
        ],
        "linked_open_questions": [
          "Q-009"
        ],
        "resolution_needed": "Specify whether social projection is precommit or postcommit and assign claim ownership."
      }
    }
  ],
  "open_sections": [
    {
      "id": "OPEN-001",
      "doc": "docs/architecture/residue_geometry.md",
      "section": "Trajectory-First Residue Placement",
      "status": "open",
      "description": "Need explicit guardrails for when representational bias may activate after trajectory channel saturation.",
      "owner_claim_ids": [
        "MECH-056",
        "Q-011"
      ]
    },
    {
      "id": "OPEN-002",
      "doc": "docs/architecture/control_plane.md",
      "section": "Signed PE Precision Calibration",
      "status": "open",
      "description": "Calibration bounds for harm-vs-benefit precision under imminence remain under-specified.",
      "owner_claim_ids": [
        "MECH-054",
        "Q-011"
      ]
    },
    {
      "id": "OPEN-003",
      "doc": "docs/architecture/social.md",
      "section": "Care Override Boundary Conditions",
      "status": "open",
      "description": "Boundary conditions for care-weight override versus third-party harm veto are unresolved.",
      "owner_claim_ids": []
    }
  ]
}
